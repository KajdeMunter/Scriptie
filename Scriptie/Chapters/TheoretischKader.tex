\chapter{Theoretisch Kader}
\label{Chapter2}

In dit hoofdstuk worden drie belangrijke begrippen uit de onderzoeksvraag behandeld. Er wordt een literatuuronderzoek gedaan naar de bestaande definities van schaalbaarheid, onderhoudbaarheid en architectuur met betrekking tot software. Hierna wordt het begrip afgebakend tot een concrete definitie waar het onderzoek op terug kan vallen.

\section{Schaalbaarheid}

M. D. Hill heeft in 1990 onderzoek gedaan naar een concrete definitie naar schaalbaarheid \parencite{WhatIsScalability}. In zijn onderzoek concludeert hij het volgende:
\begin{quote}
	\textit{
		I examined aspects of scalability, but did not find a useful, rigorous definition of it. Without such a definition, I assert that calling a system ‘scalable’ is about as useful as calling it ‘modern’. I encourage the technical community to either rigorously define scalability or stop using it to describe systems.
	}
\end{quote}
Ondertussen zijn er meerdere pogingen gedaan om schaalbaarheid te definiëren. zo zijn L. Duboc, D. S. Rosenblum en T. Wicks op deze conclusie ingegaan en hebben een poging gedaan om een framework te creëren voor karakterisering en analyse van software schaalbaarheid \parencite{ScalabilityFramework}. Zij definiëren schaalbaarheid als:
\begin{quote}
	\textit{quality of software systems characterized by the causal impact that scaling aspects of the system environment and design have on certain measured system qualities as these aspects are varied over expected operational ranges}
\end{quote}

% TODO: uitleggen scalability framework?

In een onderzoek over de kenmerken van schaalbaarheid en de impact op prestatie heeft A. B. Bondy \parencite{ScalabilityCharacteristics} schaalbaarheid verdeeld in een aantal verschillende aspecten, waaronder:
\begin{itemize}
	\item \textbf{Structural scalability} (het vermogen van een systeem om uit te breiden in een gekozen dimensie zonder ingrijpende wijzigingen in de architectuur)
	\item \textbf{Load scalability} (het vermogen van een systeem om elegant te presteren naarmate het aangeboden verkeer toeneemt)
	\item \textbf{Space scalability} (het geheugenvereiste groeit niet naar \enquote{ondraaglijke niveaus} naarmate het aantal items toeneemt)
	\item \textbf{Space-time scalability} (het systeem blijft naar verwachtingen functioneren naarmate het aantal items dat het omvat toeneemt)
\end{itemize}
Bondy definieert schaalbaarheid als het vermogen van een systeem om een toenemend aantal elementen, objecten en werk gracieus te verwerken en / of vatbaar te zijn voor uitbreiding.

H. El-Rewini en M. Abd-El-Barr noemen in het boek Advanced computer architecture and parallel processing \parencite{AdvancedArchitecture} ook een aantal \enquote{onconventionele} definities:
\begin{itemize}
	\item \textbf{Size scalability} (Meet de maximale hoeveelheid processors dat een systeem kan accommoderen)
	\item \textbf{Application scalability} (de mogelijkheid om applicatiesoftware te draaien met verbeterde prestaties op een opgeschaalde versie van het systeem)
	\item \textbf{Generation scalability} (de mogelijkheid om op te schalen door het gebruik van de volgende generatie (snelle) componenten)
	\item \textbf{Heterogeneous scalability} (het vermogen van een systeem om op te schalen met behulp van hardware- en softwarecomponenten die door verschillende leveranciers zijn gemaakt)
\end{itemize}

C. B. Weinstock en J. B. Goodenough hebben een algemeen onderzoek uitgevoerd naar schaalbaarheid \parencite{OnSystemScalability}. Zij noemen in hun conclusie dat er voornamelijk twee betekenissen van het woord schaalbaarheid zijn:
\begin{enumerate}
	\item De mogelijkheid om met verhoogde werkdruk om te gaan (zonder extra resources aan een systeem toe te voegen).
	\item De mogelijkheid om met verhoogde werkdruk om te gaan door herhaaldelijk een kosteneffectieve strategie toe te passen om de mogelijkheden van een systeem uit te breiden.
\end{enumerate}
Het valt op dat een concrete definitie van schaalbaarheid alleen duidelijk te definiëren is wanneer het in meerdere verschillende soorten is opgesplitst. Daarom zal in dit onderzoek vanaf dit punt altijd worden gespecificeerd welke soort schaalbaarheid het betreft. In dit onderzoek wordt vooral de focus gelegd op de \enquote{structural scalability} en \enquote{load scalability} uit \parencite{ScalabilityCharacteristics} omdat deze het meest relevant zijn met betrekking tot de probleemstelling. \enquote{application scalability} uit \parencite{AdvancedArchitecture} heeft veel overlapping met de load scalability. Omdat load scalability iets generieker is en de twee definities van Weinstock en Goodenough \parencite{OnSystemScalability} omvat wordt deze geprefereerd boven application scalability. De overgebleven definities zijn minder relevant voor dit onderzoek aangezien ze te maken hebben met hardware, of niet volledig toepasselijk is op de architectuur.

\subsection{Schaalbaarheid controleren}
In het onderzoek van Weinstock en Goodenough \parencite{OnSystemScalability} zijn een aantal manieren genoemd om de schaalbaarheid van een systeem te controleren.

\subsubsection{Knelpunten}
Deze knelpunten hebben vooral te maken de eerste betekenis van Weinstock en Goodenough. Er moet gecontroleerd worden op de toenemende administratieve werkdruk, de \enquote{hard-coded} limieten op capaciteit, de user interface en de complexiteitsgraad van algoritmen.

\subsubsection{Onthullen van schaalbaarheids-aannames}
Dit gaat over het onderzoeken hoe de uitbreiding van een systeem nieuwe problemen kan onthullen. Zodra een systeem zich uitbreidt is er een grotere kans op errors in de systeemconfiguratie, \enquote{zeldzame} errors komen vaker voor, is het belangrijk dat een probleem in het systeem gelokaliseerd blijft, en kan het een stuk complexer en lastiger worden om het systeem te begrijpen.

\subsubsection{Schaalstrategieën}
Hier wordt bekeken wat voor verschillende tekortkomingen een schaalstrategie heeft. Zodra een systeem een lange termijn leeft kan het zo zijn dat het systeem anders wordt gebruikt, hier moet de strategie op voorbereid zijn. Een strategie moet moet niet te afhankelijk zijn van het feit dat gebruikers weten hoe het systeem wordt geïmplementeerd. Ook moet de strategie voorbereid zijn op de vooruitgang van hardware.

\subsubsection{Methoden voor schaalbaarheidsborging}
In het onderzoek vertellen Weinstock en Goodenough dat niet echt mogelijk is om te testen of een systeem schaalbaar is. Wel zijn er methoden om de schaalbaarheid te waarborgen, zoals:
\begin{itemize}
	\item Onderzoek de \enquote{performance curves} en karakteriseer deze met een Big O notatie.
	\item Identificeer mechanismen om knelpunten aan het licht brengen of waar aannames van het schaalbaarheids- ontwerp beginnen te worden geschonden.
	\item Voer een SWOT analyse uit op de schaalbaarheids-strategie.
	\begin{itemize}
		\item \textbf{S}trengths (de soorten groei waar de strategie voor ontworpen is)
		\item \textbf{W}eaknesses (de soorten groei waar de strategie niet voor ontworpen is)
		\item \textbf{O}pportunities (mogelijke veranderingen in werklast of technologie die de strategie goed zou kunnen benutten)
		\item \textbf{T}hreats (mogelijke veranderingen in de werklast of technologie die de strategie in twijfel zouden kunnen trekken)
	\end{itemize}
\end{itemize}

Schalen kan op twee verschillende manieren, namelijk horizontaal en verticaal. Horizontaal wilt zeggen dat er geschaald wordt door meerdere machines toe te voegen, terwijl verticaal schalen betekent dat er  meer rekenkracht (als bijvoorbeeld een betere CPU of meer RAM) wordt toegevoegd aan een machine. Ook is bij het schaalbaar maken van systemen van belang dat het zo min mogelijk ten koste gaat van prestaties en niet meer kost dan nodig is.

\subsection{Functionele schaalbaarheid}
Wat in de literatuur mist over schaalbaarheid is het schrijven van \enquote{schaalbare code}. Deze term wordt regelmatig gebruikt in informele bronnen als blogs, maar is nooit concreet gedefinieerd. Schaalbare code betekent in welke mate bestaande code moet worden aangepast zodra een nieuwe functionaliteit wordt toegevoegd aan het systeem. In dit onderzoek refereren we naar deze definitie als \enquote{functionele schaalbaarheid}. Een aantal informele bronnen gebruiken vaak een definitie in de richting van \enquote{De mogelijkheid om een systeem te verbeteren door nieuwe functionaliteit toe te voegen zonder bestaande activiteiten te verstoren}. Het is echter niet duidelijk waar deze definitie vandaan komt. Deze tak van schaalbaarheid sluit de complexiteit van algoritmes uit, dit valt namelijk meer onder load scalability. Functionele schaalbaarheid is een onderdeel van onderhoudbaarheid (meer over deze definitie in paragraaf \ref{onderhoudbaarheid}).

\section{Onderhoudbaarheid} \label{onderhoudbaarheid}
P. Grubb en A. A. Takang definiëren in hun boek \enquote{Software Maintenance: Concepts And Practice} onderhoudbaarheid als \enquote{The discipline concerned with changes related to a software system after delivery} \parencite{MaintenanceConcepts}. In 1993 heeft IEEE een \enquote{Standard Glossary of Software Engineering Terminology} opgesteld. Deze begrippenlijst definieert onderhoudbaarheid als \enquote{the ease with which a software system or component can be modified to correct faults, improve performance or other attributes, or adapt to a changed environment} \parencite{SENTerminology}. Deze twee definities komen uiteindelijk op hetzelfde neer. Grubb en Takang noemen het in de context van een discipline, terwijl IEEE het als een kwaliteitseigenschap definieert. Ook specificeren Grubb en Takang het feit dat het alleen ná het opleveren gebeurt. In dit onderzoek wordt uitgegaan van de definitie van IEEE.

Grubb en Takang noemen ook een aantal redenen waarom software moet worden onderhouden:
\begin{itemize}
	\item Ondersteuning van verplichte upgrades
	\item Ondersteuning van verzoeken van gebruikers om verbeteringen toe te voegen
	\item Om toekomstige onderhoudswerkzaamheden te vergemakkelijken
\end{itemize}

K.K. Aggarwal et al. noemen in hun onderzoek een aantal factoren die van invloed zijn op onderhoudbaarheid van software \parencite{MaintainabilityMeasure}:
\begin{itemize}
	\item Leesbaarheid van de broncode
	\item Kwaliteit van de documentatie
	\item Begrijpelijkheid van software
\end{itemize}

ISO 25010 \parencite{ISO25010} definieert onderhoudbaarheid als \enquote{The degree of effectiveness and efficiency with which a product or system can be modified to improve it, correct it or adapt it to changes in environment, and in requirements} en verdeeld het in een vijftal kwaliteitseigenschappen.
\begin{itemize}
	\item Modulariteit
	\item Herbruikbaarheid
	\item Analyseerbaarheid
	\item Wijzigbaarheid
	\item Testbaarheid
\end{itemize}

Een bekende manier om onderhoudbaarheid te meten is de zogenaamde Maintainability Index (MI). Hier is echter veel kritiek op \parencite{MaintainabilityLiteratureReview, WhyNoMI, WhyNoMI2}.

\section{Architectuur}
P. Kruchten noemt dat software-architectuur zich bezig houdt met het ontwerp en de implementatie van de structuur op hoog niveau \parencite{4plus1}. Dit is echter een vrij vage definitie, het is niet duidelijk wat \enquote{hoog niveau} precies inhoudt.

S. T. Albin definieert software-architectuur als \enquote{De waarneembare eigenschappen van een softwaresysteem} \parencite{ArtOfArchitecture}. Ook dit is een onduidelijke definitie, het is veel te algemeen.

L. Bass en P. Clements, definiëren de architectuur van software als het volgende \parencite{ArchitectureInPractice}: \enquote{The architecture of a software-intensive system is the structure or structures of the system, which comprise software elements, the externally visible properties of those elements, and the relationships among them}. Gerespecteerde boeken als \parencite{ArchitectureStakeholders, DesigningArchitectures} nemen deze definitie als uitgangspunt. Ook noemen Bass en Clements vier verschillende aspecten die behoren bij software-architectuur:
\begin{itemize}
	\item \textbf{Statische structuur} (interne design-time elementen zoals modules, classes, packages, services, of andere zelfstandige code-eenheden en hun opstelling.)
	\item \textbf{Dynamische structuur} (de runtime-elementen zoals informatie-flows, parallelle of opeenvolgende uitvoering van interne taken, of de invloed die ze hebben op data en hun interacties.)
	\item \textbf{Extern zichtbaar gedrag} (de functionele interacties tussen het systeem en zijn omgeving. Denk aan Informatie-flows in en uit het systeem, of API's.)
	\item \textbf{Kwaliteitseigenschappen} (externe zichtbare, niet-functionele eigenschappen van een systeem zoals prestaties, beveiliging of schaalbaarheid.)
\end{itemize}

ISO/IEC/IEEE 42010:2011 definieert software-architectuur als \enquote{Fundamental concepts or properties of a system in its environment embodied in its elements, relationships, and in the principles of its design and evolution} \parencite{IEEEArchitecture}. The Open Group Architecture Framework (TOGAF) voegt nog een tweede definitie toe aan deze context \parencite{ArchitectureTOGAF}: \enquote{The structure of components, their inter-relationships, and the principles and guidelines governing their design and evolution over time}. TOGAF is gebaseerd op een viertal architectuur-domeinen: business, data, applicatie en technische/infrastructuur architectuur. In dit onderzoek wordt alleen de technische/infrastructuur architectuur gebruikt. Dit domein omvat de IT infrastructuur, middleware, netwerken, communicaties en standaarden. Onder deze definitie passen ook de vier aspecten uit \parencite{ArchitectureInPractice}.

\section{de "Twelve-Factor App"}

A. Wiggins \parencite{12Factor} heeft een methodologie opgezet om moderne, schaalbare en onderhoudbare web-applicaties te bouwen. De methodologie past goed bij de probleemstelling, het minimaliseren van de kosten en tijd die het kost om nieuwe ontwikkelaars aan het project te laten werken en de gemakkelijkheid van het schalen. Ook zorgt het voor structural scalability, draagbaarheid tussen uitvoeringsomgevingen, de mogelijkheid om te deployen op moderne cloud platformen en een minimale divergentie tussen development en productie waardoor CD gemakkelijk wordt om te implementeren.

De methodologie heeft 12 factoren die voor deze eigenschappen zorgen. In tabel \ref{tab:FactorApp} is een gevolg samen met een uitleg bij elke factor geplaatst. Deze factoren zullen worden meegenomen bij het behandelen van de deelvragen.

\begin{table}[h]
	\caption{12-Factor app}
	\label{tab:FactorApp}
	\centering
	\begin{tabular}{c p{3cm} p{3.5cm} p{5.5cm}}
		\toprule
		\textbf{Factor} & \textbf{Naam} & \textbf{Gevolg} & \textbf{Waarom?} \\
		\midrule
		1 & Codebase & Onderhoudbaarheid & Door de frequente deploys kunnen veranderingen snel in productie gezet worden. \\
		2 & Dependencies & Onderhoudbaarheid & gemakkelijk opzetten van project voor nieuwe ontwikkelaars. \\
		3 & Config & Structural scalability & Environment variabelen zijn niet in omgevingen maar per deployment opgezet, zo maakt de hoveelheid omgevingen niet uit. \\
		4 & Backing services & Onderhoudbaarheid & Door backing services als \enquote{attached resources} te behandelen maakt het niet uit welke techniek er wordt gebruikt en zijn deze dus los gekoppeld. \\
		5 & Build, release, run & Onderhoudbaarheid & Het is onmogelijk om veranderingen aan de code tijdens runtime te maken. \\
		6 & Processes & Load scalability & Mede door de shared-nothing architectuur kan het systeem gemakkelijker schalen. \\
		7 & Port binding & \textbf{Niet relevant ?} & \textbf{Niet relevant ?} \\
		8 & Concurrency & Load scalability & Door het \enquote{process model} te gebruiken is het makkelijker om horizontaal en verticaal te schalen. \\
		9 & Disposability & Load scalability & Door processen gemakkelijk te laten stoppen en starten gaat het schalen een stuk sneller.  \\
		10 & Dev/prod parity & Onderhoudbaarheid & Hierdoor kan er een stuk vaker gedeployed worden. \\
		11 & Logs & Onderhoudbaarheid & Door logs naar de \texttt{stdout} te sturen is het gemakkelijker om specifieke fouten te vinden, overzicht te creëren en actief meldingen te versturen naar ontwikkelaars. \\
		12 & Admin processes & Onderhoudbaarheid & Door commands in versiebeheer op te slaan is er een duidelijk overzicht en een geschiedenis van alle \enquote{one-off processes} die gebeuren. \\
		\bottomrule\\
	\end{tabular}
\end{table}
